<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="../Authorization/styles.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Manrope', sans-serif; background: #f1f5f9; }
        
        .header {
            background: white;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e2e8f0;
        }
        .header-left { display: flex; align-items: center; gap: 12px; }
        .header .material-symbols-outlined { font-size: 32px; color: #135bec; }
        .header h1 { font-size: 20px; color: #1e293b; }
        
        .user-menu { display: flex; align-items: center; gap: 16px; }
        .user-info { text-align: right; }
        .user-info h3 { font-size: 14px; color: #1e293b; }
        .user-info p { font-size: 12px; color: #64748b; }
        
        .logout-btn {
            display: flex; align-items: center; gap: 8px;
            padding: 8px 16px; background: #fee2e2; color: #dc2626;
            border: none; border-radius: 8px; cursor: pointer;
            font-size: 14px; font-weight: 500; transition: all 0.2s;
        }
        .logout-btn:hover { background: #fecaca; transform: translateY(-1px); }
        
        .main-content { padding: 24px; max-width: 1200px; margin: 0 auto; }
        
        .profile-card {
            background: white; padding: 32px; border-radius: 12px;
            margin-bottom: 24px; display: flex; gap: 24px; align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .avatar {
            width: 100px; height: 100px; border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 40px;
        }
        .profile-info h2 { font-size: 24px; color: #1e293b; margin-bottom: 4px; }
        .profile-info p { color: #64748b; font-size: 14px; }
        
        .status-card {
            background: white; padding: 24px; border-radius: 12px;
            margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .status-card h3 { font-size: 18px; color: #1e293b; margin-bottom: 16px; }
        .status-info { display: flex; gap: 24px; flex-wrap: wrap; }
        .status-item { display: flex; align-items: center; gap: 8px; color: #475569; }
        .status-item .material-symbols-outlined { color: #10b981; }
        .current-date {
            background: #dbeafe; color: #135bec;
            padding: 8px 16px; border-radius: 8px;
            font-weight: 500; font-size: 14px;
        }
        
        .calendar-card {
            background: white; padding: 24px; border-radius: 12px;
            margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .calendar-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 16px;
        }
        .calendar-header h3 { font-size: 18px; color: #1e293b; }
        .month-selector {
            display: flex; align-items: center; gap: 8px;
        }
        .month-selector select {
            padding: 8px 12px; border: 1px solid #e2e8f0;
            border-radius: 6px; font-size: 14px; cursor: pointer;
        }
        .calendar-month { color: #64748b; font-size: 14px; margin-bottom: 16px; }
        
        .calendar-grid {
            display: grid; grid-template-columns: repeat(7, 1fr);
            gap: 4px; margin-bottom: 16px;
        }
        .calendar-day-header {
            text-align: center; font-size: 12px; color: #64748b;
            padding: 8px; font-weight: 500;
        }
        .calendar-day {
            aspect-ratio: 1; display: flex; align-items: center;
            justify-content: center; border-radius: 8px;
            font-size: 13px; font-weight: 500; cursor: pointer;
            transition: all 0.2s; position: relative;
        }
        .calendar-day:hover { transform: scale(1.1); }
        .calendar-day.empty { background: transparent; cursor: default; }
        .calendar-day.present { background: #d1fae5; color: #10b981; }
        .calendar-day.absent { background: #fee2e2; color: #dc2626; }
        .calendar-day.scheduled { background: #dbeafe; color: #135bec; }
        .calendar-day.today {
            background: #135bec; color: white;
            box-shadow: 0 2px 8px rgba(19, 91, 236, 0.4);
        }
        .calendar-day.selected {
            border: 3px solid #135bec;
        }
        
        .calendar-legend {
            display: flex; gap: 16px; flex-wrap: wrap;
            padding-top: 16px; border-top: 1px solid #e2e8f0;
        }
        .legend-item {
            display: flex; align-items: center; gap: 6px;
            font-size: 12px; color: #475569;
        }
        .legend-dot {
            width: 12px; height: 12px; border-radius: 4px;
        }
        .legend-dot.present { background: #10b981; }
        .legend-dot.absent { background: #dc2626; }
        .legend-dot.scheduled { background: #135bec; }
        
        .actions-card {
            background: white; padding: 24px; border-radius: 12px;
            margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .actions-card h3 { font-size: 18px; color: #1e293b; margin-bottom: 16px; }
        .action-buttons { display: flex; gap: 12px; flex-wrap: wrap; }
        .checkin-btn {
            flex: 1; min-width: 200px; padding: 16px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: 600; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            gap: 8px; transition: all 0.2s;
        }
        .checkin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }
        .checkout-btn {
            flex: 1; min-width: 200px; padding: 16px;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: 600; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            gap: 8px; transition: all 0.2s;
        }
        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.4);
        }
        
        .location-card {
            background: white; padding: 24px; border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .location-card h3 { font-size: 18px; color: #1e293b; margin-bottom: 16px; }
        .location-info p {
            color: #475569; margin-bottom: 8px; font-size: 14px;
        }
        .location-info .material-symbols-outlined {
            vertical-align: middle; margin-right: 8px;
            color: #135bec; font-size: 18px;
        }
        
        .selected-date-info {
            background: #f8fafc; padding: 16px; border-radius: 8px;
            margin-bottom: 16px; border-left: 4px solid #135bec;
        }
        .selected-date-info p {
            font-size: 14px; color: #475569; margin-bottom: 4px;
        }
        .selected-date-info strong { color: #1e293b; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <span class="material-symbols-outlined">construction</span>
            <div>
                <h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–∞</h1>
            </div>
        </div>
        <div class="user-menu">
            <div class="user-info">
                <h3 id="workerName">–ê–ª–µ–∫—Å –ü–µ—Ç—Ä–æ–≤</h3>
                <p>ID: 482910</p>
            </div>
            <button class="logout-btn" onclick="logout()">
                <span class="material-symbols-outlined">logout</span>
                –í—ã–π—Ç–∏
            </button>
        </div>
    </div>
    
    <div class="main-content">
        <div class="profile-card">
            <div class="avatar">üë∑</div>
            <div class="profile-info">
                <h2 id="greetingName">–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –ê–ª–µ–∫—Å!</h2>
                <p>–°–æ—Ç—Ä—É–¥–Ω–∏–∫</p>
            </div>
        </div>
        
        <div class="status-card">
            <h3>–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å</h3>
            <div class="status-info">
                <div class="status-item">
                    <span class="material-symbols-outlined">location_on</span>
                    <span>–û–±—ä–µ–∫—Ç: –ó–¥–∞–Ω–∏–µ –†–ê–ù—Ö–ò–ì–°</span>
                </div>
                <div class="status-item">
                    <span class="material-symbols-outlined">check_circle</span>
                    <span id="currentStatus">–ù–∞ —Å–º–µ–Ω–µ</span>
                </div>
                <div class="current-date" id="currentDateDisplay">
                    üìÖ <span id="currentDateText"></span>
                </div>
            </div>
        </div>
        
        <div class="calendar-card">
            <div class="calendar-header">
                <h3>üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ—Å–µ—â–µ–Ω–∏–π</h3>
                <div class="month-selector">
                    <select id="monthSelect" onchange="renderCalendar()">
                        <option value="0">–Ø–Ω–≤–∞—Ä—å</option>
                        <option value="1">–§–µ–≤—Ä–∞–ª—å</option>
                        <option value="2">–ú–∞—Ä—Ç</option>
                        <option value="3">–ê–ø—Ä–µ–ª—å</option>
                        <option value="4">–ú–∞–π</option>
                        <option value="5">–ò—é–Ω—å</option>
                        <option value="6">–ò—é–ª—å</option>
                        <option value="7">–ê–≤–≥—É—Å—Ç</option>
                        <option value="8">–°–µ–Ω—Ç—è–±—Ä—å</option>
                        <option value="9">–û–∫—Ç—è–±—Ä—å</option>
                        <option value="10">–ù–æ—è–±—Ä—å</option>
                        <option value="11">–î–µ–∫–∞–±—Ä—å</option>
                    </select>
                    <select id="yearSelect" onchange="renderCalendar()">
                    </select>
                </div>
            </div>
            <p class="calendar-month" id="calendarMonthText">–ú–∞—Ä—Ç 2026</p>
            
            <div class="selected-date-info" id="selectedDateInfo" style="display: none;">
                <p>–í—ã–±—Ä–∞–Ω–∞ –¥–∞—Ç–∞: <strong id="selectedDateText"></strong></p>
                <p>–°—Ç–∞—Ç—É—Å: <strong id="selectedDateStatus">–ù–µ –æ—Ç–º–µ—á–µ–Ω–æ</strong></p>
            </div>
            
            <div class="calendar-grid" id="calendarGrid">
                <!-- –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ -->
                <div class="calendar-day-header">–ü–Ω</div>
                <div class="calendar-day-header">–í—Ç</div>
                <div class="calendar-day-header">–°—Ä</div>
                <div class="calendar-day-header">–ß—Ç</div>
                <div class="calendar-day-header">–ü—Ç</div>
                <div class="calendar-day-header">–°–±</div>
                <div class="calendar-day-header">–í—Å</div>
                <!-- –î–Ω–∏ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JS -->
            </div>
            
            <div class="calendar-legend">
                <div class="legend-item">
                    <span class="legend-dot present"></span>
                    <span>–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot absent"></span>
                    <span>–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot scheduled"></span>
                    <span>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
                </div>
            </div>
        </div>
        
        <div class="actions-card">
            <h3>–î–µ–π—Å—Ç–≤–∏—è</h3>
            <div class="action-buttons">
                <button class="checkin-btn" onclick="markAttendance('present')">
                    <span class="material-symbols-outlined">check_circle</span>
                    –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ
                </button>
                <button class="checkout-btn" onclick="markAttendance('absent')">
                    <span class="material-symbols-outlined">cancel</span>
                    –û—Ç–º–µ—Ç–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ
                </button>
            </div>
        </div>
        
        <div class="location-card">
            <h3>–õ–æ–∫–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞</h3>
            <div class="location-info">
                <p><span class="material-symbols-outlined">navigation</span> –ê–¥—Ä–µ—Å: —É–ª. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è, –¥. 42, –ö–æ—Ä–ø—É—Å –ë</p>
                <p><span class="material-symbols-outlined">phone_in_talk</span> –ü—Ä–æ—Ä–∞–± (–°–≤–µ—Ç–∏–∫–æ–≤ –ú.): +7 (999) 000-11-22</p>
            </div>
        </div>
    </div>
    
    <script>
        // –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ—Ç–º–µ—Ç–æ–∫ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ - –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
        let attendanceRecords = {};
        let selectedDate = null;
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            const token = localStorage.getItem('accessToken');
            const role = localStorage.getItem('userRole');
            
            if (!token || role !== 'worker') {
                window.location.href = '/auto.html';
                return;
            }
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞
            fetch('/api/validate-token', {
                method: 'POST',
                headers: { 'Authorization': 'Bearer ' + token }
            })
            .then(res => res.json())
            .then(data => {
                if (data.valid && data.name) {
                    document.getElementById('workerName').textContent = data.name;
                    document.getElementById('greetingName').textContent = '–î–æ–±—Ä—ã–π –¥–µ–Ω—å, ' + data.name.split(' ')[0] + '!';
                }
            })
            .catch(() => {
                localStorage.clear();
                window.location.href = '/auto.html';
            });
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
            updateCurrentDate();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
            initCalendar();
            renderCalendar();
        });
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã –≤ —Å—Ç–∞—Ç—É—Å–µ
        function updateCurrentDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const dateString = now.toLocaleDateString('ru-RU', options);
            document.getElementById('currentDateText').textContent = dateString;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏
            const hour = now.getHours();
            const statusElement = document.getElementById('currentStatus');
            if (hour >= 9 && hour < 18) {
                statusElement.textContent = '–ù–∞ —Å–º–µ–Ω–µ';
                statusElement.parentElement.querySelector('.material-symbols-outlined').textContent = 'check_circle';
                statusElement.parentElement.querySelector('.material-symbols-outlined').style.color = '#10b981';
            } else {
                statusElement.textContent = '–í–Ω–µ —Å–º–µ–Ω—ã';
                statusElement.parentElement.querySelector('.material-symbols-outlined').textContent = 'schedule';
                statusElement.parentElement.querySelector('.material-symbols-outlined').style.color = '#64748b';
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        function initCalendar() {
            const now = new Date();
            const monthSelect = document.getElementById('monthSelect');
            const yearSelect = document.getElementById('yearSelect');
            
            monthSelect.value = now.getMonth();
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≥–æ–¥–æ–≤ (—Ç–µ–∫—É—â–∏–π ¬± 2 –≥–æ–¥–∞)
            for (let i = now.getFullYear() - 2; i <= now.getFullYear() + 2; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                if (i === now.getFullYear()) option.selected = true;
                yearSelect.appendChild(option);
            }
        }
        
        // –†–µ–Ω–¥–µ—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        function renderCalendar() {
            const monthSelect = document.getElementById('monthSelect');
            const yearSelect = document.getElementById('yearSelect');
            const month = parseInt(monthSelect.value);
            const year = parseInt(yearSelect.value);
            
            const monthNames = [
                '–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å',
                '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'
            ];
            
            document.getElementById('calendarMonthText').textContent = 
                `${monthNames[month]} ${year}`;
            
            const grid = document.getElementById('calendarGrid');
            
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –¥–Ω–∏ (–æ—Å—Ç–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏)
            const headers = grid.querySelectorAll('.calendar-day-header');
            grid.innerHTML = '';
            headers.forEach(header => grid.appendChild(header));
            
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const today = new Date();
            
            // –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–ª—è –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ (0 = –ü–Ω, 6 = –í—Å)
            let startDay = firstDay.getDay() - 1;
            if (startDay < 0) startDay = 6;
            
            // –ü—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è
            for (let i = 0; i < startDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day empty';
                grid.appendChild(emptyDay);
            }
            
            // –î–Ω–∏ –º–µ—Å—è—Ü–∞
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                const dateKey = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
                if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                    dayElement.classList.add('today');
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–º–µ—Ç–æ–∫
                if (attendanceRecords[dateKey] === 'present') {
                    dayElement.classList.add('present');
                } else if (attendanceRecords[dateKey] === 'absent') {
                    dayElement.classList.add('absent');
                } else if (day > today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                    dayElement.classList.add('scheduled');
                }
                
                // –ö–ª–∏–∫ –ø–æ –¥–Ω—é
                dayElement.addEventListener('click', function() {
                    selectDate(day, month, year, dateKey);
                });
                
                grid.appendChild(dayElement);
            }
        }
        
        // –í—ã–±–æ—Ä –¥–∞—Ç—ã
        function selectDate(day, month, year, dateKey) {
            selectedDate = dateKey;
            
            // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
            document.querySelectorAll('.calendar-day').forEach(el => {
                el.classList.remove('selected');
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–º—É
            event.target.classList.add('selected');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
            const infoPanel = document.getElementById('selectedDateInfo');
            infoPanel.style.display = 'block';
            
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
            const selectedDateObj = new Date(year, month, day);
            document.getElementById('selectedDateText').textContent = 
                selectedDateObj.toLocaleDateString('ru-RU', dateOptions);
            
            const status = attendanceRecords[dateKey];
            let statusText = '–ù–µ –æ—Ç–º–µ—á–µ–Ω–æ';
            if (status === 'present') statusText = '‚úÖ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª';
            else if (status === 'absent') statusText = '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª';
            document.getElementById('selectedDateStatus').textContent = statusText;
        }
        
        // –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è
        function markAttendance(type) {
            if (!selectedDate) {
                // –ï—Å–ª–∏ –¥–∞—Ç–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ–≥–æ–¥–Ω—è
                const today = new Date();
                selectedDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            }
            
            const statusElement = document.getElementById('selectedDateStatus');
            
            if (type === 'present') {
                attendanceRecords[selectedDate] = 'present';
                statusElement.textContent = '‚úÖ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª';
                statusElement.style.color = '#10b981';
                alert('‚úÖ –û—Ç–º–µ—á–µ–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ!\n–î–∞—Ç–∞: ' + selectedDate);
            } else if (type === 'absent') {
                attendanceRecords[selectedDate] = 'absent';
                statusElement.textContent = '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª';
                statusElement.style.color = '#dc2626';
                alert('‚ùå –û—Ç–º–µ—á–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ!\n–î–∞—Ç–∞: ' + selectedDate);
            }
            
            renderCalendar();
        }
        
        // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        function logout() {
            localStorage.clear();
            window.location.href = '/auto.html';
        }
    </script>
</body>
</html>